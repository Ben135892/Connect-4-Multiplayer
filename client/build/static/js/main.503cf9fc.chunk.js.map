{"version":3,"sources":["components/GameMenu.js","socketConfig.js","components/multiplayer/CreateGame.js","components/multiplayer/JoinGame.js","components/multiplayer/Messages.js","components/multiplayer/PlayerList.js","components/multiplayer/StartButton.js","components/multiplayer/GameInfo.js","hasWon.js","isDraw.js","randomMove.js","components/multiplayer/Board.js","components/multiplayer/Timer.js","components/multiplayer/Game.js","generateBoard.js","possiblePositions.js","minimax.js","aiMove.js","components/singleplayer/Board.js","components/singleplayer/StartButton.js","components/singleplayer/GameInfo.js","components/singleplayer/Game.js","components/singleplayer/DifficultySelect.js","components/BackButton.js","App.js","index.js"],"names":["GameMenu","history","id","onClick","replace","socket","io","CreateGame","useState","nickName","setNickName","clicked","setClicked","className","onSubmit","e","preventDefault","emit","htmlFor","autoComplete","onChange","target","value","type","JoinGame","joinID","setJoinID","error","setError","useEffect","on","errorMessage","off","class","Messages","gameID","input","setInput","messages","setMessages","messagesEndRef","useRef","msg","concat","current","scrollIntoView","behavior","message","map","index","ref","PlayerList","playerID","players","player","colour","_id","toString","StartButton","GameInfo","game","gameOutcome","hasStarted","turn","length","isHosting","hasWon","board","width","height","i","j","isDraw","randomMove","row","col","Math","floor","random","Board","setGame","playerColour","setGameOutcome","generateBoard","matrix","Array","fill","setBoard","turnID","move","makeMove","forcedMove","colIndex","result","currentCol","handleClick","cell","Timer","turnTime","timer","setTimer","interval","setInterval","clearInterval","Game","setPlayers","socketID","getPlayer","to","possiblePositions","positions","push","x","y","minimax","depth","alpha","beta","maximizingPlayer","aiColour","humanColour","max","Infinity","min","aiMove","bestMove","randomNum","setPlayerColour","start","SinglePlayer","difficulty","setDifficulty","string","DifficultySelect","BackButton","location","useLocation","useHistory","pathname","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.503cf9fc.chunk.js","sourcesContent":["import '../css/GameMenu.css';\r\n\r\nconst GameMenu = ({ history }) => {\r\n    return (\r\n        <div id=\"menu\">\r\n            <h1>Connect 4 Online</h1>\r\n            <button onClick={() => history.replace('/game/ai')}>Play against AI</button>\r\n            <button onClick={() => history.replace('/game/create')}>Create Game</button>\r\n            <button onClick={() => history.replace('/game/join')}>Join Game</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GameMenu;","import io from 'socket.io-client';\r\n//const socket = io('/'); for deploymnet, io('http://localhost:3001') for local testing\r\nconst socket = io('/');\r\nexport default socket;","import { useState } from 'react';\r\nimport socket from '../../socketConfig';\r\nimport '../../css/Form.css'\r\n\r\nconst CreateGame = () => {\r\n    const [nickName, setNickName] = useState('');\r\n    const [clicked, setClicked] = useState(false);\r\n    const onChange = e => {\r\n        setNickName(e.target.value);\r\n    }  \r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        setClicked(true);\r\n        socket.emit('create-game', { nickName });\r\n    }\r\n    if (clicked)\r\n        return null;\r\n    return ( \r\n        <div className=\"form\">\r\n            <h1>Create Game</h1>\r\n            <form onSubmit={onSubmit}>\r\n                <label htmlFor=\"nickName\">Enter Nick Name</label>\r\n                <input autoComplete=\"off\" onChange={onChange} type=\"text\" id=\"nickName\" />\r\n                <button>Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default CreateGame;","import { useState, useEffect } from 'react';\r\nimport socket from '../../socketConfig';\r\nimport '../../css/Form.css'\r\n\r\nconst JoinGame = () => {\r\n    const [nickName, setNickName] = useState('');\r\n    const [joinID, setJoinID] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [clicked, setClicked] = useState(false);\r\n    useEffect(() => {\r\n        socket.on('error', errorMessage => {\r\n            setError(errorMessage);\r\n            setClicked(false);\r\n        });\r\n        return () => socket.off('error');\r\n    }, []);\r\n    const onNameChange = e => {\r\n        setNickName(e.target.value);\r\n    }  \r\n    const onIDChange = e => {\r\n        setJoinID(e.target.value);\r\n    }\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        setClicked(true);\r\n        socket.emit('join-game', { nickName, joinID });\r\n    }\r\n    if (clicked)\r\n        return null;\r\n    return ( \r\n        <div className=\"form\">\r\n            <h1>Join Game</h1>\r\n            <form onSubmit={onSubmit}>\r\n                {error && <div class=\"error\">{error}</div>}\r\n                <label htmlFor=\"nickName\">Enter Nick Name</label>\r\n                <input autoComplete=\"off\" value={nickName} onChange={onNameChange} type=\"text\" id=\"nickName\" />\r\n                <label htmlFor=\"gameID\">Enter Room ID</label>\r\n                <input autoComplete=\"off\" value={joinID} onChange={onIDChange} type=\"text\" id=\"gameID\" />\r\n                <button>Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JoinGame;","import { useState, useEffect, useRef } from 'react';\r\nimport socket from '../../socketConfig';\r\nimport '../../css/Messages.css';\r\n\r\nconst Messages = ({ gameID, nickName }) => {\r\n    const [input, setInput] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const messagesEndRef = useRef(null);\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    };\r\n    useEffect(() => {\r\n        socket.on('message', msg => {\r\n            setMessages(messages => messages.concat([ msg ]));\r\n        });\r\n        return () => socket.off('message');\r\n    }, []);\r\n    useEffect(scrollToBottom,\r\n        [messages]\r\n    );\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (input === '')\r\n            return;\r\n        const message = nickName + ': ' + input;\r\n        setMessages(messages => messages.concat([ message ]));\r\n        setInput('');\r\n        socket.emit('message', { gameID, message });\r\n    }\r\n    return (\r\n        <div id=\"message-div\">\r\n            <form onSubmit={onSubmit}>\r\n                <label htmlFor=\"message\">Send Message: </label>\r\n                <br></br>\r\n                <input autoComplete=\"off\" type=\"text\" id=\"message\" value={input} onChange={(e) => setInput(e.target.value)} />\r\n                <button>Send</button>\r\n            </form>\r\n            <div id=\"messages\">\r\n                {messages.map((message, index) => \r\n                    <p key={index}>{message}</p>\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Messages;","import '../../css/PlayerList.css';\r\n\r\nconst PlayerList = ({ playerID, players }) => {\r\n    return (\r\n        <div id=\"playerlist\">\r\n                <h1>Players: </h1>\r\n                {players.map(player => \r\n                    <h2 key={player._id.toString()} className={'highlighted ' + player.colour}>\r\n                        {player.nickName + (player._id.toString() === playerID.toString() ? ' (you)' : '')}\r\n                    </h2>\r\n                )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PlayerList;","import socket from '../../socketConfig';\r\nimport { useState } from 'react';\r\nimport '../../css/StartButton.css';\r\n\r\nconst StartButton = ({ gameID }) => {\r\n    const [clicked, setClicked] = useState(false);\r\n    const startGame = () => {\r\n        setClicked(true);\r\n        socket.emit('start-game', { gameID });\r\n    };\r\n    if (clicked)\r\n        return null;\r\n    return (\r\n        <button id=\"start-button\" onClick={startGame}>Start Game</button>\r\n    );\r\n};\r\n\r\nexport default StartButton;","import StartButton from './StartButton';\r\n\r\nconst GameInfo = ({ game, player, gameOutcome }) => {\r\n    const oppositeColor = () => player.colour === 'yellow' ? 'red' : 'yellow';\r\n    return (\r\n        <div id=\"info\">\r\n            {gameOutcome ? <h2>{gameOutcome}</h2> : null}\r\n            {game.hasStarted && (player.colour === game.turn ? <h2 className={player.colour + ' highlighted'}>Your turn</h2>\r\n                                                             : <h2 className={oppositeColor(player.colour) + ' highlighted'}>Opponent's turn</h2>)}\r\n            {!game.hasStarted && (game.players.length === 2 ? (player.isHosting ? <StartButton gameID={game._id}/> : <h2>Waiting for host to start...</h2>)\r\n                                                            : <h2>Waiting for another player...</h2>)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GameInfo;","const hasWon = (colour, board, width, height) => {\r\n    // check columns\r\n    for (let i = 0; i < width; i++) {\r\n        for (let j = 0; j <= height - 4; j++) {\r\n            if (board[i][j] === colour && board[i][j + 1] === colour && board[i][j + 2] === colour && board[i][j + 3] === colour)\r\n                return true;\r\n        }\r\n    }\r\n    // check rows\r\n    for (let j = 0; j < height; j++) {\r\n        for (let i = 0; i <= width - 4; i++) {\r\n            if (board[i][j] === colour && board[i + 1][j] === colour && board[i + 2][j] === colour && board[i + 3][j] === colour)\r\n                return true;\r\n        }\r\n    }\r\n    // diagonals\r\n    // right down\r\n    for (let i = 0; i <= width - 4; i++) {\r\n        for (let j = 0; j <= height - 4; j++) {\r\n            if (board[i][j] === colour && board[i + 1][j + 1] === colour && board[i + 2][j + 2] === colour && board[i + 3][j + 3] === colour)\r\n                return true;\r\n        }\r\n    }\r\n    // left down\r\n    for (let i = 3; i < width; i++) {\r\n        for (let j = 0; j <= height - 4; j++) {\r\n            if (board[i][j] === colour && board[i - 1][j + 1] === colour && board[i - 2][j + 2] === colour && board[i - 3][j + 3] === colour)\r\n                return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default hasWon;","const isDraw = (board, width, height) => {\r\n    for (let i = 0; i < width; i++) {\r\n        for (let j = 0; j < height; j++) {\r\n            if (board[i][j] === '')\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport default isDraw;","const randomMove = (board, width, height) => {\r\n    while (true) {\r\n        let row = height - 1;\r\n        const col = Math.floor(Math.random() * width);\r\n        while (row >= 0) {\r\n            if (board[col][row] === '') {\r\n                return { row, col };\r\n            }\r\n            row--;\r\n        }\r\n    }\r\n}\r\n\r\nexport default randomMove;","import { useEffect, useState } from \"react\";\r\nimport '../../css/Board.css';\r\nimport socket from '../../socketConfig'\r\nimport hasWon from '../../hasWon';\r\nimport isDraw from '../../isDraw';\r\nimport randomMove from '../../randomMove';\r\n\r\nconst Board = ({ game, setGame, playerColour, setGameOutcome }) => {\r\n    const width = 7;\r\n    const height = 6;\r\n    const generateBoard = () => {\r\n        const matrix = new Array(width);\r\n        for (let i = 0; i < width; i++) {\r\n            matrix[i] = new Array(height).fill('');\r\n        }\r\n        return matrix;\r\n    };\r\n    const [board, setBoard] = useState(generateBoard());\r\n    useEffect(() => {\r\n        socket.on('restart', () => {\r\n            setGameOutcome(null);\r\n            setBoard(generateBoard());\r\n        });\r\n        socket.on('update-board', ({ row, col, colour }) => {\r\n            setBoard(board => {\r\n                board[col][row] = colour;\r\n                return [...board];\r\n            });\r\n        });\r\n        return () => {\r\n            socket.off('restart');\r\n            socket.off('update-board');\r\n        };\r\n    }, [setGameOutcome]);\r\n    const forcedMove = (turnID) => {\r\n        if (!game.hasStarted || turnID !== game.turnID || game.turn !== playerColour) {\r\n            return;\r\n        }\r\n        const move = randomMove(board, width, height);\r\n        makeMove(move.row, move.col);\r\n    }\r\n    useEffect(() => {\r\n        // for forced move due to time running out. In this this case, make a random move\r\n        socket.on('make-move', ({ turnID }) => forcedMove(turnID));\r\n        return () => socket.off('make-move');\r\n    });\r\n    const makeMove = (row, colIndex) => {\r\n        board[colIndex][row] = playerColour;\r\n        setBoard([...board]);\r\n        socket.emit('update-board', { gameID: game._id, row, col: colIndex, colour: playerColour });\r\n        // turn over\r\n        if (hasWon(playerColour, board, width, height)) {\r\n            game.hasStarted = false;\r\n            setGameOutcome('You won!');\r\n            socket.emit('game-over', { gameID: game._id, result: 'You lost!' });\r\n        } else if (isDraw(board, width, height)) {\r\n            game.hasStarted = false;\r\n            setGameOutcome('Draw');\r\n            socket.emit('game-over', { gameID: game._id, result: 'Draw!' });\r\n        }\r\n        else {\r\n            game.turn = game.turn === 'red' ? 'yellow' : 'red';\r\n            socket.emit('change-turn', { gameID: game._id });\r\n        }\r\n        setGame({ ...game });\r\n    }\r\n    const handleClick = (col) => {\r\n        if (!game.hasStarted || game.turn !== playerColour)\r\n            return;\r\n        let row = height - 1;\r\n        while (row >= 0) {\r\n            if (board[col][row] === '') {\r\n                makeMove(row, col);\r\n                return;\r\n            }\r\n            row--;\r\n        }\r\n    }\r\n    return (\r\n        <div id='board'>\r\n            {board.map((currentCol, col) => \r\n                <div className='col' onClick={() => handleClick(col)} key={col}>\r\n                    {board[col].map((cell, row) => \r\n                        <div className={'cell ' + cell} key={col + ',' + row}></div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Board;","import { useState, useEffect } from 'react';\r\n \r\nconst Timer = ({ game }) => {\r\n    const [timer, setTimer] = useState(game.turnTime);\r\n    useEffect(() => {\r\n        setTimer(game.turnTime);\r\n        const interval = setInterval(() => {\r\n            setTimer(timer => timer - 1);\r\n        }, 1000);\r\n        return () => clearInterval(interval);\r\n    }, [game.turnID, game.turn, game.turnTime, setTimer]);\r\n    return ( \r\n        <h2>{timer}</h2>\r\n    );\r\n}\r\n \r\nexport default Timer;","import socket from '../../socketConfig';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport Messages from './Messages';\r\nimport PlayerList from './PlayerList'\r\nimport GameInfo from './GameInfo';\r\nimport Board from './Board';\r\nimport Timer from './Timer';\r\nimport '../../css/Game.css'\r\n\r\n// get the player object corresponding to the socket ID\r\nconst getPlayer = (players) => {\r\n    for (let i = 0; i < players.length; i++) {\r\n        if (players[i].socketID === socket.id)\r\n            return players[i];\r\n    }\r\n    return { _id: '' };\r\n}\r\n\r\nconst Game = ({ game, setGame, players, setPlayers }) => {\r\n    const player = getPlayer(players);\r\n    const [gameOutcome, setGameOutcome] = useState(null);\r\n    useEffect(() => {\r\n        socket.on('game-over', result => setGameOutcome(result));\r\n        return () => {\r\n            socket.off('game-over');\r\n            socket.off('update-timer');\r\n            if (player._id !== '') {\r\n                socket.emit('leave-game');\r\n                setGame({});\r\n                setPlayers([]);\r\n            } \r\n        }\r\n    }, [player._id, setGame, setPlayers]);\r\n    if (player._id === '')\r\n        return <Redirect to=\"/\" />;\r\n    return (\r\n        <div id=\"game\">\r\n            <h2>Game Code: {game.joinID}</h2>\r\n            <GameInfo game={game} player={player} gameOutcome={gameOutcome} />\r\n            {game.hasStarted && <Timer game={game} />}\r\n            <div id=\"main\">\r\n                <PlayerList playerID={player._id} players={players} />\r\n                <Board game={game} setGame={setGame} playerColour={player.colour} setGameOutcome={setGameOutcome} />\r\n                <Messages gameID={game._id} nickName={player.nickName} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Game;\r\n","const generateBoard = (width, height) => {\r\n    const matrix = new Array(width);\r\n    for (let i = 0; i < width; i++) {\r\n        matrix[i] = new Array(height).fill('');\r\n    }\r\n    return matrix;\r\n};\r\n\r\nexport default generateBoard;","const possiblePositions = (board, width, height) => {\r\n    const positions = [];\r\n    for (let i = 0; i < width; i++) {\r\n        let row = height - 1;\r\n        while (row >= 0) {\r\n            if (board[i][row] === '') {\r\n                positions.push({ x: i, y: row });\r\n                break;\r\n            }\r\n            row--;\r\n        }\r\n    }\r\n    return positions;\r\n}\r\n\r\nexport default possiblePositions;","import hasWon from './hasWon';\r\nimport isDraw from './isDraw';\r\nimport possiblePositions from './possiblePositions';\r\n\r\n// https://en.wikipedia.org/wiki/Minimax\r\n\r\nconst minimax = (board, depth, alpha, beta, maximizingPlayer, aiColour, humanColour, width, height) => {\r\n    if (hasWon(aiColour, board, width, height)) {\r\n        return 1000 + depth;\r\n    } else if (hasWon(humanColour, board, width, height)) {\r\n        return -1000 - depth;\r\n    } else if (isDraw(board, width, height)) {\r\n        return 0;\r\n    } else if (depth === 0) {\r\n        // randomness\r\n        return Math.floor(Math.random() * 200) - 100;\r\n    }\r\n    const positions = possiblePositions(board, width, height);\r\n    if (maximizingPlayer) {\r\n        let max = -Infinity;\r\n        for (let i = 0; i < positions.length; i++) {\r\n            board[positions[i].x][positions[i].y] = aiColour;\r\n            const value = minimax(board, depth - 1, alpha, beta, false, aiColour, humanColour, width, height);\r\n            max = Math.max(max, value);\r\n            alpha = Math.max(alpha, value);\r\n            // undo the move\r\n            board[positions[i].x][positions[i].y] = '';\r\n            if (alpha >= beta) break;\r\n        }\r\n        return max;\r\n    } else {\r\n        let min = Infinity;\r\n        for (let i = 0; i < positions.length; i++) {\r\n            board[positions[i].x][positions[i].y] = humanColour;\r\n            const value = minimax(board, depth - 1, alpha, beta, true, aiColour, humanColour, width, height);\r\n            min = Math.min(min, value);\r\n            beta = Math.min(beta, value);\r\n            // undo the move\r\n            board[positions[i].x][positions[i].y] = '';\r\n            if (beta <= alpha) break;\r\n        }\r\n        return min;\r\n    }\r\n}\r\n\r\nexport default minimax;","import minimax from './minimax';\r\nimport possiblePositions from './possiblePositions';\r\n\r\nconst aiMove = (board, depth, width, height, aiColour, playerColour) => {\r\n    let max = -Infinity;\r\n    let bestMove;\r\n    let alpha = -Infinity, beta = Infinity;\r\n    const positions = possiblePositions(board, width, height);\r\n    for (let i = 0; i < positions.length; i++) {\r\n        board[positions[i].x][positions[i].y] = aiColour;\r\n        const value = minimax(board, depth - 1, alpha, beta, false, aiColour, playerColour, width, height);\r\n        if (value > max) {\r\n            max = value;\r\n            bestMove = positions[i];\r\n        }\r\n        alpha = Math.max(alpha, value);\r\n        // undo the move\r\n        board[positions[i].x][positions[i].y] = '';\r\n    }\r\n    return { row: bestMove.y, col: bestMove.x };\r\n}\r\n\r\nexport default aiMove;","import { useState, useEffect } from \"react\";\r\nimport '../../css/Board.css';\r\nimport hasWon from '../../hasWon';\r\nimport isDraw from '../../isDraw';\r\nimport generateBoard from '../../generateBoard';\r\nimport aiMove from '../../aiMove';\r\n\r\nconst oppositeColour = (colour) => colour === 'red' ? 'yellow' : 'red'; \r\n\r\nconst Board = ({ depth, game, setGame, playerColour, setGameOutcome }) => {\r\n    const aiColour = oppositeColour(playerColour);\r\n    const width = 7;\r\n    const height = 6;\r\n    const [board, setBoard] = useState(generateBoard(width, height));\r\n    useEffect(() => {\r\n        if (game.hasStarted) {\r\n            setBoard(generateBoard(width, height));\r\n        }\r\n    }, [game.hasStarted]);\r\n    useEffect(() => {\r\n        if (game.hasStarted && game.turn === aiColour) {\r\n            const bestMove = aiMove(board, depth, width, height, aiColour, playerColour);\r\n            makeMove(aiColour, bestMove.row, bestMove.col);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [board]);\r\n    const makeMove = (colour, row, col) => {\r\n        board[col][row] = colour;\r\n        setBoard([...board]);\r\n        // turn over\r\n        if (hasWon(colour, board, width, height)) {\r\n            game.hasStarted = false;\r\n            if (colour === playerColour) {\r\n                setGameOutcome('You won!');\r\n            } else {\r\n                setGameOutcome('You lost!');\r\n            }\r\n        } else if (isDraw(board, width, height)) {\r\n            game.hasStarted = false;\r\n            setGameOutcome('Draw');\r\n        } else {\r\n            game.turn = game.turn === 'red' ? 'yellow' : 'red';\r\n        }\r\n        setGame({ ...game });\r\n    }\r\n    const handleClick = (col) => {\r\n        if (!game.hasStarted || game.turn !== playerColour)\r\n            return;\r\n        let row = height - 1;\r\n        while (row >= 0) {\r\n            if (board[col][row] === '') {\r\n                makeMove(playerColour, row, col);\r\n                return;\r\n            }\r\n            row--;\r\n        }\r\n    }\r\n    return (\r\n        <div id='board'>\r\n            {board.map((currentCol, col) => \r\n                <div className='col' onClick={() => handleClick(col)} key={col}>\r\n                    {board[col].map((cell, row) => \r\n                        <div className={'cell ' + cell} key={col + ',' + row}></div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Board;","import { useState } from 'react';\r\nimport '../../css/StartButton.css';\r\n\r\nconst randomNum = () => Math.floor(Math.random() * 2); // random num between 0 and 1\r\n\r\nconst StartButton = ({ game, setGame, setPlayerColour, setGameOutcome }) => {\r\n    const [clicked, setClicked] = useState(false);\r\n    const start = () => {\r\n        const playerColour = randomNum() === 0 ? 'red' : 'yellow';\r\n        setPlayerColour(playerColour);\r\n        game.hasStarted = true;\r\n        game.turn = randomNum() === 0 ? 'red' : 'yellow';\r\n        setGame({...game});\r\n        setGameOutcome(null);\r\n    }\r\n    const startGame = () => {\r\n        setClicked(true);\r\n        start();\r\n    };\r\n    if (clicked)\r\n        return null;\r\n    return (\r\n        <button id=\"start-button\" onClick={startGame}>Start Game</button>\r\n    );\r\n};\r\n\r\nexport default StartButton;","import StartButton from './StartButton';\r\n\r\nconst oppositeColour = (colour) => colour === 'red' ? 'yellow' : 'red'; \r\n\r\nconst GameInfo = ({ game, setGame, playerColour, setPlayerColour, gameOutcome, setGameOutcome }) => {\r\n    return (\r\n        <div id=\"info\">\r\n            {gameOutcome && <h2>{gameOutcome}</h2>}\r\n            {!game.hasStarted && <StartButton game={game} setGame={setGame} setPlayerColour={setPlayerColour} setGameOutcome={setGameOutcome} />}\r\n            {game.hasStarted && (game.turn === playerColour ? <h2 className={'highlighted ' + playerColour}>Your turn!</h2>\r\n                                                            : <h2 className={ 'highlighted ' + oppositeColour(playerColour)}>AI's turn!</h2>)}\r\n        </div> \r\n    );\r\n}\r\n \r\nexport default GameInfo\r\n","import { useState } from 'react';\r\nimport Board from './Board';\r\nimport GameInfo from './GameInfo';\r\nimport '../../css/SingleplayerGame.css';\r\n\r\nconst SinglePlayer = ({ difficulty, setDifficulty }) => {\r\n    const [game, setGame] = useState({ hasStarted: false });\r\n    const [playerColour, setPlayerColour] = useState(null);\r\n    const [gameOutcome, setGameOutcome] = useState(null);\r\n    return (\r\n        <div id=\"singleplayer\">\r\n            <h2>{difficulty.string}</h2>\r\n            <GameInfo game={game} setGame={setGame} playerColour={playerColour} setPlayerColour={setPlayerColour} gameOutcome={gameOutcome} setGameOutcome={setGameOutcome} />\r\n            <Board depth={difficulty.depth} game={game} setGame={setGame} playerColour={playerColour} setGameOutcome={setGameOutcome} />\r\n            <button id=\"back\" onClick={() => setDifficulty(null)}>Change difficulty</button>\r\n        </div>\r\n    )\r\n}\r\n \r\nexport default SinglePlayer;","import { useState } from 'react';\r\nimport Game from './Game';\r\nimport '../../css/GameMenu.css';\r\n\r\nconst DifficultySelect = () => {\r\n    const [difficulty, setDifficulty] = useState(null);\r\n    if (difficulty === null) {\r\n        return (\r\n            <div id=\"menu\">\r\n                <h1>Select Difficulty</h1>\r\n                <button onClick={() => setDifficulty({ depth: 2, string: 'Easy' })}>Easy</button>\r\n                <button onClick={() => setDifficulty({ depth: 4, string: 'Medium' })}>Medium</button>\r\n                <button onClick={() => setDifficulty({ depth: 7, string: 'Hard' })}>Hard</button>\r\n            </div> \r\n        );\r\n    }\r\n    return <Game difficulty={difficulty} setDifficulty={setDifficulty}/>;\r\n}\r\n\r\nexport default DifficultySelect;","import { useHistory, useLocation } from 'react-router-dom';\r\n\r\nconst BackButton = () => {\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    if (location.pathname === '/')\r\n        return null;\r\n    return <button id=\"link\" onClick={() => history.replace('/')}>Back to main menu...</button>;\r\n}\r\n \r\nexport default BackButton;","import { Route, Switch, useHistory } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport GameMenu from './components/GameMenu';\nimport CreateGame from './components/multiplayer/CreateGame';\nimport JoinGame from './components/multiplayer/JoinGame';\nimport MultiplayerGame from './components/multiplayer/Game';\nimport DifficultySelect from './components/singleplayer/DifficultySelect';\nimport BackButton from './components/BackButton';\nimport socket from './socketConfig';\nimport './css/App.css';\n\nfunction App() {\n    const history = useHistory();\n    const [game, setGame] = useState({});\n    const [players, setPlayers] = useState([]);\n    useEffect(() => {\n        socket.on('update-game', game => setGame(game));\n        socket.on('update-players', players => setPlayers(players));\n        socket.on('update-game-and-players', ({ game, players }) => {\n            setGame(game);\n            setPlayers(players);\n        });\n        socket.on('join-game', () => history.replace('/game/play'));\n    }, [history]);\n    return (\n        <div>\n            <BackButton />\n            <Switch>\n                <Route exact path=\"/\" component={GameMenu} />\n                <Route exact path=\"/game/ai\" component={DifficultySelect} />\n                <Route exact path=\"/game/create\" component={CreateGame} />\n                <Route exact path=\"/game/join\" component={JoinGame} />\n                <Route exact path=\"/game/play\">\n                    <MultiplayerGame game={game} setGame={setGame} players={players} setPlayers={setPlayers}/>\n                </Route>\n            </Switch>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}